appId: com.tap_pay

# All UI coordinates defined here - update in one place!
env:
  # Test Data
  NAME: Rabbiyaa
  MOBILE_NUMBER: "03205263174"
  
  # UI Locators (from locators.yaml)
  SIGNUP_CHECKBOX_1: "8%,81%"
  SIGNUP_CONTINUE_BUTTON_1: "50%,90%"
  SIGNUP_NAME_INPUT_FIELD: "51%,43%"
  SIGNUP_NAME_NEXT_BUTTON: "50%,63%"
  MOBILE_NUMBER_PLACEHOLDER: "03*********"
  SIGNUP_MOBILE_NEXT_BUTTON: "50%,63%"
  PIN_INPUT_FIELD_ENTER: "17%,41%"
  PIN_INPUT_FIELD_REENTER: "17%,54%"
  REGISTRATION_FINAL_BUTTON: "50%,72%"
---
# Complete Signup Flow - Using Page Object Model with Centralized Locators
# UPDATE COORDINATES: Change env variables above to update UI element positions

# Launch App
- tapOn: PAY
- tapOn: Sign Up Here
- tapOn:
    point: ${SIGNUP_CHECKBOX_1}
- tapOn:
    point: ${SIGNUP_CONTINUE_BUTTON_1}

# Enter Name
- assertVisible: What's your name?
- tapOn:
    point: ${SIGNUP_NAME_INPUT_FIELD}
- inputText: ${NAME}
- tapOn:
    point: ${SIGNUP_NAME_NEXT_BUTTON}

# Enter Mobile Number
- assertVisible: Enter Your Mobile Number?
- tapOn: ${MOBILE_NUMBER_PLACEHOLDER}
- inputText: ${MOBILE_NUMBER}
- tapOn: Back
- tapOn:
    point: ${SIGNUP_MOBILE_NEXT_BUTTON}

# Handle OTP Permission
- assertVisible: "Allow PAY to read the message below and enter the code?"
- tapOn: Allow
# Wait for OTP to auto-fill (app reads SMS and enters OTP automatically)
- waitForAnimationToEnd

# Enter PIN
- assertVisible: Enter PIN
- tapOn:
    point: ${PIN_INPUT_FIELD_ENTER}
- tapOn: "1"
- tapOn: "2"
- tapOn: "1"
- tapOn: "2"

# Re-enter PIN
- assertVisible: Re-enter PIN
- tapOn:
    point: ${PIN_INPUT_FIELD_REENTER}
- tapOn: "1"
- tapOn: "2"
- tapOn: "1"
- tapOn: "2"

# Complete Registration
- tapOn: Back
- tapOn:
    point: ${REGISTRATION_FINAL_BUTTON}
- assertVisible: "Congratulations"
